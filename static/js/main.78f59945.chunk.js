(this["webpackJsonpkanban-board-react"]=this["webpackJsonpkanban-board-react"]||[]).push([[0],{145:function(e,t,a){e.exports=a(225)},225:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),o=a(18),l=a(259),s=a(269),u=a(270),d=a(260),p=a(21),m=a(103),b=a.n(m);b.a.initializeApp({apiKey:"AIzaSyDi94RhaY6ZzKEXGViPJQ4brsAifE2aZdY",authDomain:"kanban-board-81e54.firebaseapp.com",databaseURL:"https://kanban-board-81e54.firebaseio.com",projectId:"kanban-board-81e54",storageBucket:"kanban-board-81e54.appspot.com",messagingSenderId:"852366999129",appId:"1:852366999129:web:f66d876ca86eea0e29fb48"});var f=b.a,g=a(136),h=Object(g.a)({palette:{type:"dark"},typography:{h5:{fontSize:"1rem"}}}),v=a(29),O=a(128),j=a.n(O);function k(e,t){var a=Object.keys(e).find((function(a){return e[a].items.find((function(e){return e.id===t}))}));return e[a]}function E(e,t,a){return function(e,t){return Array.isArray(t)?e?t.filter((function(t){return t.tag===e})):t:[]}(t,function(e,t){return Array.isArray(t)?e?t.filter((function(t){return new RegExp(e,"gi").test(t.title)})):t:[]}(e,a))}var x=a(17),w=a.n(x),y=a(28),S=a(272),C=a(271),I=a(258),T=a(63),D=a(131),N=a.n(D),P=(a(164),[{value:"article",label:"Article"},{value:"blog-post",label:"Blog Post"},{value:"long-form",label:"Long Form"}]),W=[{value:"to-do",label:"To Do"},{value:"in-progress",label:"In Progress"},{value:"done",label:"Done"}],B=[{value:"Foo User",label:"Foo User"},{value:"Super User",label:"Super User"},{value:"Lazy User",label:"Lazy User"}],F=a(230);var A=function(e){var t=e.children,a=e.className;return r.a.createElement(F.a,null,r.a.createElement(I.a,{container:!0,direction:"column",className:a},r.a.createElement(T.a,{align:"center",variant:"h2"},"Create Task"),r.a.createElement(I.a,{item:!0,container:!0},r.a.createElement(I.a,{item:!0,xs:2}),r.a.createElement(I.a,{item:!0,xs:8},t),r.a.createElement(I.a,{item:!0,xs:2}))))},G=a(137),R=Object(l.a)({dropdown:{color:"black",marginTop:"10px",marginBottom:"20px"}});var V=function(e){var t=e.options,a=e.handleOnChange,n=e.label,c=R();return r.a.createElement(G.a,{className:c.dropdown,placeholder:n,options:t,onChange:function(e){var t=e.value;return a(t)}})},U=Object(l.a)((function(e){return{paper:{width:"95%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},modalInnerGrid:{height:"100%",padding:"30px"},datePickerWrapper:{minHeight:"38px",minWidth:"250px",border:"1px solid hsl(0,0%,100%)",borderRadius:4,marginBottom:"20px"},closeButton:{marginLeft:"15px"}}}));var z=function(e){var t=e.isVisible,a=e.toggleVisible,c=Object(n.useState)(""),i=Object(o.a)(c,2),l=i[0],s=i[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),b=m[0],f=m[1],g=Object(n.useState)(new Date),h=Object(o.a)(g,2),v=h[0],O=h[1],j=Object(n.useState)(""),k=Object(o.a)(j,2),E=k[0],x=k[1],D=Object(n.useState)(""),F=Object(o.a)(D,2),G=F[0],R=F[1],z=Object(n.useState)(""),K=Object(o.a)(z,2),L=K[0],H=K[1],J=Object(p.e)((function(e){return e.createTask}));function Y(){return(Y=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J({title:l,description:b,status:G||"to-do",tag:E||"article",assignee:L||"not assigned",dueDate:v,createdDate:new Date}),a();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=U();return r.a.createElement(S.a,{open:t,onClose:a,className:q.paper},r.a.createElement(A,{className:q.modalInnerGrid},r.a.createElement("form",null,r.a.createElement(C.a,{required:!0,id:"title",label:"Title",fullWidth:!0,onChange:function(e){return s(e.target.value)},value:l}),r.a.createElement(C.a,{required:!0,id:"description",label:"Description",fullWidth:!0,onChange:function(e){return f(e.target.value)}}),r.a.createElement(I.a,{item:!0,container:!0,m:2},r.a.createElement(I.a,{item:!0,md:5},r.a.createElement(V,{options:W,handleOnChange:R,label:"Status"})),r.a.createElement(I.a,{item:!0,md:2}),r.a.createElement(I.a,{item:!0,md:5},r.a.createElement(V,{options:P,handleOnChange:x,label:"Tags"})),r.a.createElement(I.a,{item:!0,md:5},r.a.createElement(T.a,null,"Due Date"),r.a.createElement(N.a,{className:q.datePickerWrapper,dateFormat:"yyyy/MM/dd",selected:v,onChange:function(e){return O(e)}})),r.a.createElement(I.a,{item:!0,md:2}),r.a.createElement(I.a,{item:!0,md:5},r.a.createElement(V,{options:B,handleOnChange:H,label:"Assignee"})))),r.a.createElement(d.a,{variant:"contained",onClick:function(){return Y.apply(this,arguments)},disabled:0===l.length||0===b.length},"create"),r.a.createElement(d.a,{variant:"contained",onClick:a,color:"secondary",className:q.closeButton},"close")))},K=a(22),L=a(274),H=a(134),J=a.n(H),Y=Object(l.a)((function(e){return{paperWrapper:{position:"absolute",width:"250px",height:"150px",top:"50px"},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(K.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(K.b)(e.palette.common.white,.25)},margin:"10px",width:"auto",display:"flex",justifyContent:"space-around"},searchIcon:{display:"flex",height:"100%",pointerEvents:"none",alignSelf:"center",justifyContent:"center"},tagsDropDown:{margin:"10px"}}}));var q=function(e){var t=e.handleTagChange,a=e.handleTitleChange,n=Y();return r.a.createElement(F.a,{m:1,elevation:10,className:n.paperWrapper},r.a.createElement(T.a,{variant:"h5",align:"center"},"Filters"),r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(J.a,null)),r.a.createElement(L.a,{placeholder:"Filter by task title",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return a(e.target.value)}})),r.a.createElement("div",{className:n.tagsDropDown},r.a.createElement(V,{options:P,handleOnChange:t,label:"Tags"})))},M=a(60),Z=a(50),Q=a(13);var X=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),l=Object(o.a)(i,2),s=l[0],u=l[1],d=Object(n.useState)(null),m=Object(o.a)(d,2),b=m[0],f=m[1],g=Object(p.e)((function(e){return e})),h=g.updateTask,O=g.updateTasks;Object(n.useEffect)((function(){c(e)}),[e]);var j=Object(n.useCallback)((function(e){var t=e.draggableId;s.find((function(e){return e===t}))||x(),f(t)}),[s]),E=Object(n.useCallback)((function(e,t){if(e.destination){var a=e.source,n=e.destination;if(a.droppableId!==n.droppableId){var r,i=t[a.droppableId],l=t[n.droppableId];if(s.length>1){var d,p=i.items.filter((function(e){return s.includes(e.id)}));return c(Object(Q.a)(Object(Q.a)({},t),{},(d={},Object(Z.a)(d,a.droppableId,Object(Q.a)(Object(Q.a)({},i),{},{items:i.items.filter((function(e){return!s.includes(e.id)}))})),Object(Z.a)(d,n.droppableId,Object(Q.a)(Object(Q.a)({},l),{},{items:[].concat(Object(v.a)(l.items),Object(v.a)(p))})),d))),O({statusValue:n.droppableId,tasks:p}),f(null),void u([])}var m=i.items.find((function(e){return e.id===b}));c(Object(Q.a)(Object(Q.a)({},t),{},(r={},Object(Z.a)(r,a.droppableId,Object(Q.a)(Object(Q.a)({},i),{},{items:i.items.filter((function(e){return e.id!==b}))})),Object(Z.a)(r,n.droppableId,Object(Q.a)(Object(Q.a)({},l),{},{items:[].concat(Object(v.a)(l.items),[m])})),r))),h({id:b,values:Object(Q.a)(Object(Q.a)({},m),{},{status:n.droppableId})})}else{var g=t[a.droppableId],j=Object(v.a)(g.items),k=j.splice(a.index,1),E=Object(o.a)(k,1)[0];j.splice(n.index,0,E),c(Object(Q.a)(Object(Q.a)({},t),{},Object(Z.a)({},a.droppableId,Object(Q.a)(Object(Q.a)({},g),{},{items:j}))))}f(null),u([])}}),[s,b]),x=function(){return u([])},w=Object(n.useCallback)((function(e){var t=s.includes(e)?s.length>1?[e]:[]:[e];u(t)}),[s]),y=Object(n.useCallback)((function(e){var t=s.indexOf(e);if(-1!==t){var a=Object(v.a)(s);a.splice(t,1),u(a)}else u([].concat(Object(v.a)(s),[e]))}),[s]),S=Object(n.useCallback)((function(e){var t=function(e,t,a){if(!t.length)return[a];var n=k(e,a),r=n.items.map((function(e){return e.id})).indexOf(a),c=t[t.length-1],i=k(e,c),o=i.items.map((function(e){return e.id})).indexOf(c);if(n!==i)return n.items.slice(0,r+1);if(r===o)return null;var l=r>o,s=l?o:r,u=l?r:o,d=n.items.slice(s,u+1).filter((function(e){var a=e.id;return!t.includes(a)})),p=l?d:Object(v.a)(d).reverse();return[].concat(Object(v.a)(t),Object(v.a)(p.map((function(e){return e.id}))))}(r,s,e);null!=t&&u(t)}),[s,r]);return{columns:r,draggingTaskId:b,selectedTasksIds:s,multiSelectTo:S,toggleSelection:w,toggleSelectionInGroup:y,onDragStart:j,onDragEnd:E}},$=a(14),_=a(265),ee=a(266),te=a(267),ae=a(268),ne=a(275),re=a(135),ce=a.n(re),ie=a(273),oe=a(261),le=a(262),se=a(263),ue=a(264);var de=function(e){var t=e.isVisible,a=e.handleConfirm,n=e.handleCancel,c=r.a.useState(t),i=Object(o.a)(c,2),l=i[0],s=i[1],u=function(){s(!1),n()};return r.a.createElement("div",null,r.a.createElement(ie.a,{open:l,onClose:u},r.a.createElement(oe.a,{style:{cursor:"move"}},"Deleting Task"),r.a.createElement(le.a,null,r.a.createElement(se.a,null,"Are You sure about this? there's no way back.")),r.a.createElement(ue.a,null,r.a.createElement(d.a,{autoFocus:!0,onClick:u,color:"secondary"},"Cancel"),r.a.createElement(d.a,{onClick:a,color:"secondary"},"DO IT!"))))},pe=13,me=Object(l.a)({avatarWrapper:{display:"flex",alignItems:"center"},avatar:{marginRight:"10px",width:"20px",height:"20px",fontSize:"0.25rem"},title:{padding:"10px 10px 0 10px"},cardContentWrapper:{padding:"10px 10px 0 10px"}});var be=function(e){var t=e.index,a=e.task,c=e.toggleSelection,i=e.toggleSelectionInGroup,l=e.multiSelectTo,s=e.isSelected,u=Object(p.e)((function(e){return e.deleteTask})),d=Object(n.useState)(!1),m=Object(o.a)(d,2),b=m[0],f=m[1];function g(e){!function(e){return navigator.platform.indexOf("Win")>=0?e.ctrlKey:e.metaKey}(e)?O(e)?l(a.id):c(a.id):i(a.id)}function h(e){e.defaultPrevented||0===e.button&&(e.preventDefault(),g(e))}function v(e){e.defaultPrevented||(e.preventDefault(),i(a.id))}var O=function(e){return e.shiftKey},k=me();return r.a.createElement(n.Fragment,null,b&&r.a.createElement(de,{isVisible:b,handleConfirm:function(){return u(a.id)},handleCancel:function(){return f(!1)}}),r.a.createElement(M.b,{key:a.id,draggableId:a.id,index:t},(function(e,t){return r.a.createElement("div",Object.assign({onClick:h,onTouchEnd:v,onKeyDown:function(e){return function(e,t){e.defaultPrevented||t.isDragging||e.keyCode===pe&&(e.preventDefault(),g(e))}(e,t)},ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:Object(Q.a)({userSelect:"none",margin:"0 0 8px 0",minHeight:"50px",border:t.isDragging||s?"3px solid #FF6347":"none",color:"white"},e.draggableProps.style)}),r.a.createElement(_.a,null,r.a.createElement(ee.a,{title:a.title,className:k.title,action:r.a.createElement(te.a,{"aria-label":"settings",onClick:function(){return f(!0)}},r.a.createElement(ce.a,null))}),r.a.createElement(ae.a,{className:k.cardContentWrapper},r.a.createElement(T.a,{className:k.avatarWrapper,variant:"body2",color:"textSecondary",component:"span"},r.a.createElement(ne.a,{className:k.avatar},(n=a.assignee,j()(n).toUpperCase())),a.assignee),r.a.createElement(T.a,{variant:"body2"},"Status:"," ",W.find((function(e){return e.value===a.status})).label),r.a.createElement(T.a,{variant:"body2"},"Tag:"," ",P.find((function(e){return e.value===a.tag})).label))));var n})))},fe=Object($.a)((function(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})})),ge=r.a.memo((function(e){var t=e.column,a=e.columnId,n=e.multiSelectTo,c=e.toggleSelection,i=e.toggleSelectionInGroup,o=e.selectedTasksIds,l=e.draggingTaskId;return r.a.createElement("div",{style:{display:"flex",flex:1,flexDirection:"column",alignItems:"center"}},r.a.createElement(T.a,{variant:"h4"},t.name),r.a.createElement(M.c,{droppableId:a},(function(e,a){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{style:{background:a.isDraggingOver?"#FF6347":"lightgrey",padding:"4px",width:"250px",minHeight:"500px",height:"93vh"}}),t.items.map((function(e,t){var a=Boolean(fe(o)[e.id]),s=a&&Boolean(l)&&l!==e.id;return r.a.createElement(be,{isSelected:a,isGhosting:s,key:"task-".concat(e.id),task:e,index:t,toggleSelection:c,toggleSelectionInGroup:i,multiSelectTo:n})})),e.placeholder)})))}));var he=function(e){var t=e.children,a=e.className;return r.a.createElement(I.a,{container:!0,direction:"column",className:a},r.a.createElement(I.a,{item:!0,container:!0},r.a.createElement(I.a,{item:!0,xs:2}),r.a.createElement(I.a,{item:!0,xs:8,container:!0},t),r.a.createElement(I.a,{item:!0,xs:2})))},ve=Object(l.a)({wrapper:{backgroundColor:"rgb(36, 40, 42)",width:"100vw",height:"100vh",color:"#fff"}});var Oe=function(e){var t=e.baseColumns,a=X(t),n=a.columns,c=a.draggingTaskId,i=a.selectedTasksIds,l=a.multiSelectTo,s=a.toggleSelection,u=a.toggleSelectionInGroup,d=a.onDragStart,p=a.onDragEnd,m=ve(h);return r.a.createElement(M.a,{onDragStart:d,onDragEnd:function(e){return p(e,n)}},r.a.createElement(he,{className:m.wrapper},Object.entries(n).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return r.a.createElement(ge,{draggingTaskId:c,selectedTasksIds:i,key:n.name,column:n,columnId:a,multiSelectTo:l,toggleSelection:s,toggleSelectionInGroup:u})}))))},je=Object(l.a)({createTaskButton:{position:"absolute"},circularProgressWrapper:{top:"50%",left:"50%",position:"absolute"},circularProgressBar:{color:"rgb(187, 46, 31)",width:"100px !important",height:"100px !important"}});var ke=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],i=function(){return c(!a)},l=Object(n.useState)(""),m=Object(o.a)(l,2),b=m[0],f=m[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),O=v[0],j=v[1],k=Object(p.f)((function(e){return e.tasks})),x=Object(p.e)((function(e){return e.fetchTasks}));Object(n.useEffect)((function(){x()}),[]);var w=E(O,b,k),y={"to-do":{name:"To do",items:w.filter((function(e){return"to-do"===e.status}))},"in-progress":{name:"In Progress",items:w.filter((function(e){return"in-progress"===e.status}))},done:{name:"Done",items:w.filter((function(e){return"done"===e.status}))}},S=je(h);return r.a.createElement(s.a,{theme:h},0===k.length&&r.a.createElement("div",{className:S.circularProgressWrapper},r.a.createElement(u.a,{className:S.circularProgressBar})),r.a.createElement(d.a,{variant:"contained",className:S.createTaskButton,onClick:i},"create Task"),a&&r.a.createElement(z,{isVisible:a,toggleVisible:i}),r.a.createElement(q,{handleTagChange:f,handleTitleChange:j}),r.a.createElement(Oe,{baseColumns:y}))},Ee=f.firestore();function xe(){return we.apply(this,arguments)}function we(){return(we=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.collection("tasks").get();case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return Object(Q.a)(Object(Q.a)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ee.collection("tasks").add(Object(Q.a)({},t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(y.a)(w.a.mark((function e(t,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ee.collection("tasks").doc(t).set(Object(Q.a)({},a)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return De.apply(this,arguments)}function De(){return(De=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ee.collection("tasks").doc(t).delete());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne={tasks:[],addTasks:Object(p.b)((function(e,t){e.tasks=Object(v.a)(t)})),fetchTasks:Object(p.d)(function(){var e=Object(y.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe();case 3:a=e.sent,t.addTasks(a),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Something went wrong fetching the tasks ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),createTask:Object(p.d)(function(){var e=Object(y.a)(w.a.mark((function e(t,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye(a);case 3:t.fetchTasks(),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Something went wrong while creating the task please ".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()),updateTask:Object(p.d)(function(){var e=Object(y.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.id,r=a.values,e.prev=1,e.next=4,Ce(n,r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("Something went wrong while updating the task ".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}()),updateTasks:Object(p.d)(function(){var e=Object(y.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.statusValue,r=a.tasks,e.prev=1,Promise.all(r.map((function(e){return Ce(e.id,Object(Q.a)(Object(Q.a)({},e),{},{status:n}))}))),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),new Error("Something went wrong while updating the tasks ".concat(e.t0));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,a){return e.apply(this,arguments)}}()),deleteTask:Object(p.d)(function(){var e=Object(y.a)(w.a.mark((function e(t,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(a);case 3:t.fetchTasks(),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Something went wrong while updating the tasks ".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}())},Pe=Object(p.c)(Ne);i.a.render(r.a.createElement(p.a,{store:Pe},r.a.createElement(ke,null)),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.78f59945.chunk.js.map